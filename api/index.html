<!DOCTYPE html>
<head>
    <meta itemprop="name" content="防红接口直链"/>
    <meta itemprop="image" content="https://img-blog.csdnimg.cn/direct/ddb610a71d6b4b90a315c2d58aee2d6a.png" />
    <meta name="description" itemprop="description" content="即将进入网址" />
</head>
<body>
    <script>
        // ===== 完整解密版本 - 基于原始混淆文件 =====
        
        // 1. 防护机制部分
        
        // 禁用右键菜单
        document.body.oncontextmenu = function() {
            return false;
        };
        
        // 禁用文本选择
        document.body.onselectstart = function() {
            return false;
        };
        
        // 禁用特定快捷键
        document.onkeydown = function(event) {
            var event = event || window.event;
            // 禁用 Ctrl+C (复制)
            if (event.ctrlKey == 1 && event.keyCode == 67) {
                return false;
            }
            // 禁用 Ctrl+S (保存)
            if (event.ctrlKey == 1 && event.keyCode == 83) {
                return false;
            }
            // 禁用 F12 (开发者工具)
            if (event.keyCode == 123) {
                return false;
            }
        };
        
        // 防止在iframe中运行
        if (window.top != window.self) {
            top.location.href = window.location.href;
        }
        
        // 2. 链接隐藏机制
        
        // 保存原始的window.onload事件
        var pre_window_load = window.onload;
        
        // 页面加载完成后执行链接隐藏逻辑
        window.onload = function() {
            // 如果之前有onload函数，先执行
            if (pre_window_load != undefined) {
                pre_window_load();
            }
            
            // 存储原始链接地址
            var originalLinks = [];
            // 获取页面中所有的a标签
            var links = document.getElementsByTagName('a');
            
            // 遍历所有链接
            for (var i = 0; i < links.length; i++) {
                // 如果链接没有onclick事件（避免干扰有特殊处理的链接）
                if (links[i].onclick == undefined) {
                    // 保存原始链接地址
                    originalLinks[i] = links[i].href;
                    
                    // 将链接替换为无意义的javascript:void(0)加时间戳
                    links[i].href = 'javascript:void(0);' + new Date().getTime().toString();
                    
                    // 设置data-index属性用于标识
                    links[i].setAttribute('data-index', i);
                    
                    // 保存原始的onfocus事件
                    var originalOnfocus = links[i].onfocus;
                    
                    // 添加focus事件监听器 - 获得焦点时恢复真实链接
                    links[i].addEventListener('focus', function() {
                        // 恢复原始链接
                        this.href = originalLinks[this.getAttribute('data-index')];
                        // 如果有原始的onfocus事件，执行它
                        if (originalOnfocus != undefined) {
                            originalOnfocus();
                        }
                    });
                    
                    // 保存原始的onblur事件
                    var originalOnblur = links[i].onblur;
                    
                    // 添加blur事件监听器 - 失去焦点时重新隐藏链接
                    links[i].addEventListener('blur', function() {
                        // 重新隐藏链接
                        this.href = 'javascript:void(0);' + new Date().getTime().toString();
                        // 如果有原始的onblur事件，执行它
                        if (originalOnblur != undefined) {
                            originalOnblur();
                        }
                    });
                }
            }
        };
        
        // 3. 跳转页面生成部分
        
        // 获取URL参数的函数
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }
        
        // 获取目标URL
        var targetUrl = getUrlParameter('url') || getUrlParameter('u') || 'https://www.baidu.com';
        var countdown = 5;
        
        // 动态生成跳转页面内容
        function generateJumpPage() {
            // 添加页面样式
            var style = document.createElement('style');
            style.textContent = `
                body {
                    font-family: 'Microsoft YaHei', Arial, sans-serif;
                    text-align: center;
                    padding: 50px 20px;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    margin: 0;
                    min-height: 100vh;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                .container {
                    max-width: 600px;
                    width: 100%;
                    background: rgba(255, 255, 255, 0.95);
                    padding: 40px;
                    border-radius: 15px;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                    backdrop-filter: blur(10px);
                }
                .title {
                    font-size: 28px;
                    color: #333;
                    margin-bottom: 20px;
                    font-weight: bold;
                }
                .countdown {
                    font-size: 24px;
                    color: #e74c3c;
                    margin: 20px 0;
                    font-weight: bold;
                }
                .url-display {
                    font-size: 16px;
                    color: #3498db;
                    margin: 20px 0;
                    word-break: break-all;
                    background: #f8f9fa;
                    padding: 15px;
                    border-radius: 8px;
                    border-left: 4px solid #3498db;
                }
                .btn {
                    background: linear-gradient(45deg, #52c41a, #73d13d);
                    color: white;
                    padding: 12px 30px;
                    border: none;
                    border-radius: 25px;
                    font-size: 16px;
                    cursor: pointer;
                    margin: 20px 10px;
                    transition: all 0.3s ease;
                    box-shadow: 0 4px 15px rgba(82, 196, 26, 0.3);
                }
                .btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(82, 196, 26, 0.4);
                }
                .btn-cancel {
                    background: linear-gradient(45deg, #ff4757, #ff6b7a);
                    box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3);
                }
                .btn-cancel:hover {
                    box-shadow: 0 6px 20px rgba(255, 71, 87, 0.4);
                }
                .disclaimer {
                    font-size: 12px;
                    color: #666;
                    margin-top: 30px;
                    line-height: 1.6;
                    background: #fff3cd;
                    padding: 15px;
                    border-radius: 8px;
                    border-left: 4px solid #ffc107;
                }
                .loading {
                    display: inline-block;
                    width: 20px;
                    height: 20px;
                    border: 3px solid #f3f3f3;
                    border-top: 3px solid #3498db;
                    border-radius: 50%;
                    animation: spin 1s linear infinite;
                    margin-right: 10px;
                }
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
                .progress-bar {
                    width: 100%;
                    height: 4px;
                    background: #ecf0f1;
                    border-radius: 2px;
                    margin: 20px 0;
                    overflow: hidden;
                }
                .progress-fill {
                    height: 100%;
                    background: linear-gradient(45deg, #3498db, #2980b9);
                    border-radius: 2px;
                    transition: width 1s linear;
                }
            `;
            document.head.appendChild(style);
            
            // 创建页面内容
            var container = document.createElement('div');
            container.className = 'container';
            container.innerHTML = `
                <div class="title">
                    <div class="loading"></div>
                    安全跳转中...
                </div>
                <div class="countdown" id="countdown">${countdown} 秒后将要进入</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress"></div>
                </div>
                <div class="url-display">
                    <strong>目标网址：</strong><br>
                    ${targetUrl}
                </div>
                <div>
                    <button class="btn" onclick="jumpNow()">立即跳转</button>
                    <button class="btn btn-cancel" onclick="cancelJump()">取消跳转</button>
                </div>
                
            `;
            
            // 清空body并添加新内容
            document.body.innerHTML = '';
            document.body.appendChild(container);
            
            // 设置进度条初始状态
            document.getElementById('progress').style.width = '100%';
        }
        
        // 跳转函数
        window.jumpNow = function() {
            window.location.href = targetUrl;
        };
        
        // 取消跳转函数
        window.cancelJump = function() {
            if (confirm('确定要取消跳转吗？')) {
                window.history.back();
            }
        };
        
        // 倒计时函数
        function updateCountdown() {
            if (countdown > 0) {
                document.getElementById('countdown').textContent = countdown + ' 秒后将要进入';
                // 更新进度条
                var progress = ((5 - countdown) / 5) * 100;
                document.getElementById('progress').style.width = (100 - progress) + '%';
                countdown--;
                setTimeout(updateCountdown, 1000);
            } else {
                // 倒计时结束，自动跳转
                window.jumpNow();
            }
        }
        
        // 页面加载完成后生成跳转页面并开始倒计时
        document.addEventListener('DOMContentLoaded', function() {
            generateJumpPage();
            setTimeout(updateCountdown, 1000);
        });
        
        // 如果DOMContentLoaded已经触发，立即执行
        if (document.readyState === 'loading') {
            // 文档还在加载中，等待DOMContentLoaded事件
        } else {
            // 文档已经加载完成，立即执行
            generateJumpPage();
            setTimeout(updateCountdown, 1000);
        }
        
    </script>
</body>
</html>
