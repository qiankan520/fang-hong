<!DOCTYPE html>
<head>
    <meta itemprop="name" content="防红接口直链"/>
    <meta itemprop="image" content="https://img-blog.csdnimg.cn/direct/ddb610a71d6b4b90a315c2d58aee2d6a.png" />
    <meta name="description" itemprop="description" content="即将进入网址" />
</head>
<body>
    <script>
        // ===== 无过渡页直接跳转版本 =====
        
        // 1. 防护机制部分（保持完整）
        
        // 禁用右键菜单
        document.body.oncontextmenu = function() {
            return false;
        };
        
        // 禁用文本选择
        document.body.onselectstart = function() {
            return false;
        };
        
        // 禁用特定快捷键
        document.onkeydown = function(event) {
            var event = event || window.event;
            // 禁用 Ctrl+C (复制)
            if (event.ctrlKey == 1 && event.keyCode == 67) {
                return false;
            }
            // 禁用 Ctrl+S (保存)
            if (event.ctrlKey == 1 && event.keyCode == 83) {
                return false;
            }
            // 禁用 F12 (开发者工具)
            if (event.keyCode == 123) {
                return false;
            }
        };
        
        // 防止在iframe中运行
        if (window.top != window.self) {
            top.location.href = window.location.href;
        }
        
        // 2. 链接隐藏机制（保持完整）
        
        // 保存原始的window.onload事件
        var pre_window_load = window.onload;
        
        // 页面加载完成后执行链接隐藏逻辑
        window.onload = function() {
            // 如果之前有onload函数，先执行
            if (pre_window_load != undefined) {
                pre_window_load();
            }
            
            // 存储原始链接地址
            var originalLinks = [];
            // 获取页面中所有的a标签
            var links = document.getElementsByTagName('a');
            
            // 遍历所有链接
            for (var i = 0; i < links.length; i++) {
                // 如果链接没有onclick事件（避免干扰有特殊处理的链接）
                if (links[i].onclick == undefined) {
                    // 保存原始链接地址
                    originalLinks[i] = links[i].href;
                    
                    // 将链接替换为无意义的javascript:void(0)加时间戳
                    links[i].href = 'javascript:void(0);' + new Date().getTime().toString();
                    
                    // 设置data-index属性用于标识
                    links[i].setAttribute('data-index', i);
                    
                    // 保存原始的onfocus事件
                    var originalOnfocus = links[i].onfocus;
                    
                    // 添加focus事件监听器 - 获得焦点时恢复真实链接
                    links[i].addEventListener('focus', function() {
                        // 恢复原始链接
                        this.href = originalLinks[this.getAttribute('data-index')];
                        // 如果有原始的onfocus事件，执行它
                        if (originalOnfocus != undefined) {
                            originalOnfocus();
                        }
                    });
                    
                    // 保存原始的onblur事件
                    var originalOnblur = links[i].onblur;
                    
                    // 添加blur事件监听器 - 失去焦点时重新隐藏链接
                    links[i].addEventListener('blur', function() {
                        // 重新隐藏链接
                        this.href = 'javascript:void(0);' + new Date().getTime().toString();
                        // 如果有原始的onblur事件，执行它
                        if (originalOnblur != undefined) {
                            originalOnblur();
                        }
                    });
                }
            }
        };
        
        // 3. 直接跳转逻辑（无UI界面）
        
        // 获取URL参数的函数
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }
        
        // 获取目标URL
        var targetUrl = getUrlParameter('url') || getUrlParameter('u');
        
        // 验证URL参数
        function isValidUrl(string) {
            try {
                new URL(string);
                return true;
            } catch (_) {
                return false;
            }
        }
        
        // 直接跳转函数
        function performDirectJump() {
            if (targetUrl && isValidUrl(targetUrl)) {
                // 有效的目标URL，直接跳转
                window.location.href = targetUrl;
            } else {
                // 无效或缺少URL参数，显示错误信息
                document.body.innerHTML = `
                    <div style="
                        font-family: 'Microsoft YaHei', Arial, sans-serif;
                        text-align: center;
                        padding: 50px 20px;
                        background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
                        margin: 0;
                        min-height: 100vh;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: white;
                    ">
                        <div style="
                            max-width: 500px;
                            background: rgba(255, 255, 255, 0.1);
                            padding: 40px;
                            border-radius: 15px;
                            backdrop-filter: blur(10px);
                        ">
                            <h2 style="margin-bottom: 20px;">⚠️ 参数错误</h2>
                            <p style="margin-bottom: 20px; line-height: 1.6;">缺少有效的跳转地址参数</p>
                            <p style="font-size: 14px; opacity: 0.8;">请使用正确的格式：?url=目标网址</p>
                            <button onclick="window.history.back()" style="
                                background: rgba(255, 255, 255, 0.2);
                                color: white;
                                border: 1px solid rgba(255, 255, 255, 0.3);
                                padding: 10px 20px;
                                border-radius: 5px;
                                cursor: pointer;
                                margin-top: 20px;
                            ">返回上一页</button>
                        </div>
                    </div>
                `;
            }
        }
        
        // 页面加载完成后立即执行跳转
        function initDirectJump() {
            // 短暂延迟确保防护机制设置完成
            setTimeout(performDirectJump, 50);
        }
        
        // 页面加载完成后初始化
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initDirectJump);
        } else {
            initDirectJump();
        }
        
    </script>
</body>
</html>
